<?php

/**
 * stuff_departments
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    helpdesk
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class stuff_departments extends Basestuff_departments
{
  const KURATOR = 'kurator';

  /**
   * Set kurator for all claimtype
   *
   * @param int $departmentId
   * @param int $stuffId
   * @param string $userkey
   *
   */
  static public function setStuffOnAllClaimtype($departmentId, $stuffId, $userkey)
  {
    $claimtypes = Doctrine::getTable('claimtype')
      ->createQuery()
      ->execute();

    foreach ($claimtypes as $claimtype)
    {
      $sd = new stuff_departments();
      $sd->setDepartmentsId($departmentId);
      $sd->setStuffId($stuffId);
      $sd->setUserkey($userkey);
      $sd->setClaimtypeId($claimtype->getId());
      $sd->save();
    }
  }
}