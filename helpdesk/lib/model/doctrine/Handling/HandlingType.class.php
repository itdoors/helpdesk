<?php

/**
 * HandlingType
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    helpdesk
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class HandlingType extends PluginHandlingType
{
  static protected $tenderIds = array();

  static public function getIdBySlug($slug)
  {
    $query = Doctrine::getTable('HandlingType')
      ->createQuery('ht')
      ->where('ht.slug = ?', $slug)
      ->fetchOne();

    return $query ? $query->getId() : null;
  }

  static public function getIdsBySlug($slug)
  {
    $query = Doctrine::getTable('HandlingType')
      ->createQuery('ht')
      ->where('ht.slug = ?', $slug)
      ->execute();

    return sizeof($query) ? $query->toKeyValueArray('id', 'id') : array();
  }

  static public function getTenderIds()
  {
    if (!self::$tenderIds)
    {
      self::$tenderIds = self::getIdsBySlug('tender');
    }

    return self::$tenderIds;
  }
}
